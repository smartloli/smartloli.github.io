<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">
  <meta name="keywords" content="admin,dashboard,template,angular,bootstrap,blur,panel,html,css,javascript">
  <title>Docs</title>
  <link rel="stylesheet" href="../../../css/main.css">
  <link rel="stylesheet" href="../../../css/font-awesome.css">
  <link rel="shortcut icon" href="../../../images/favicon.ico">
  <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?8f818225b47832c7c649070bf46855a5";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>

<body>
  <div class="container">
    <div class="nav-main">
      <div class="wrap"><a href="" class="nav-home"><img
            style="border: 2px solid #fff;border-radius: 50%;margin-top: 4px;margin-left: 10px;float: left;"
            src="../../../images/ke_login.png" width="40" height="40" class="nav-logo">&nbsp;<span
            class="blur-label">Kafka-</span>Eagle</a>
        <ul class="nav-site nav-site-internal">
          <li><a href="../../../index.html">Home</a></li>
          <!-- <li><a href="https://docs.kafka-eagle.org/" target="_blank">Docs</a></li> -->
          <li><a href="../documentation.html" class="active">Docs</a></li>
          <li><a href="https://www.cnblogs.com/smartloli" target="_blank">Blog</a></li>
          <li><a href="../../article/wechat.html">Articles</a></li>
          <li><a href="../../about/me.html">About</a></li>
        </ul><span class="nav-docs-right">Need some help? Let us know! <a href="mailto:smartloli.org@gmail.com">smartloli.org@gmail.com</a></span>
      </div>
    </div>
    <section class="content wrap documentationContent">
      <div class="nav-docs">
        <div class="nav-docs section">
          <h5>Introduce</h5>
          <ul>
            <li><a href="../introduce/what-is-kafka-eagle.html">What is Kafka Eagle</a></li>
            <li><a href="../introduce/getting-started.html">Getting Started</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Installation</h5>
          <ul>
            <li><a href="requirements.html">Requirements</a></li>
            <li><a href="linux-macos.html" class="active">Install on Linux/macOS</a></li>
            <li><a href="windows.html">Install on Windows</a></li>
            <li><a href="configuration.html">Configuration</a></li>
            <li><a href="security.html">Security</a></li>
            <li><a href="upgrade.html">Upgrade Kafka Eagle</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Quick Start</h5>
          <ul>
            <li><a href="../quickstart/dashboard.html">Dashboard</a></li>
            <li><a href="../quickstart/topics.html">Topics</a></li>
            <li><a href="../quickstart/consumers.html">Consumers</a></li>
            <li><a href="../quickstart/cluster.html">Cluster</a></li>
            <li><a href="../quickstart/alarm.html">Alarm</a></li>
            <li><a href="../quickstart/shell.html">Shell</a></li>
            <li><a href="../quickstart/zkcli.html">ZkCli</a></li>
            <li><a href="../quickstart/multi.html">Multi-Cluster</a></li>
            <li><a href="../quickstart/ksql.html">KSQL</a></li>
            <li><a href="../quickstart/system.html">System</a></li>
            <li><a href="../quickstart/metrics.html">Metrics</a></li>
            <li><a href="../quickstart/bscreen.html">BScreen</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Architecture</h5>
          <ul>
            <li><a href="../architecture/intro.html">Introduction</a></li>
            <li><a href="../architecture/collect.html">Data Collection</a></li>
            <li><a href="../architecture/core.html">Core Modules</a></li>
            <li><a href="../architecture/advanced.html">Advanced</a></li>
            <li><a href="../architecture/pdf.html">PDF</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>ChangeLog</h5>
          <ul>
            <li><a href="../changelog/changelog.html">ChangeLog</a></li>
          </ul>
        </div>
      </div>
      <div class="inner-content">
        <h1>Install on Linux/macOS</h1>
        <div class="subHeader"><i class="fa fa-home"></i> > <a href="" style="text-decoration:none;">Installation</a> >
          Install on Linux/macOS</div>
        <h2>Overview</h2>
        <p>This page explains how to install Kafka Eagle dependencies, download and install Kafka Eagle, get the service
          up and running on your Linux or macOS system, and the installation package details.</p>
        <div class="admonition note">          
          <p class="first admonition-title">Note on upgrading</p>
          <p class="last">While the process for upgrading Kafka Eagle is very similar to
          installing Kafka Eagle, there are some key backup steps you should perform. Read <a href="upgrade.html"
            style="text-decoration:none;">Upgrading Kafka Eagle</a> for tips and guidance on updating an existing
          installation.
          </p>
        </div>
        <h2>1. Download and install</h2>
        <p>You can download the <a href="https://github.com/smartloli/kafka-eagle" style="text-decoration:none;"
            target="_blank">Kafka Eagle</a> source code on GitHub to compile and install by yourself, or by <a
            href="http://download.kafka-eagle.org/" style="text-decoration:none;" target="_blank">downloading</a> a
          binary .tar.gz file.</p>
        <table>
          <thead>
            <tr>
              <th>Kafka Eagle</th>
              <th>Repository</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Github</td>
              <td>https://github.com/smartloli/kafka-eagle</td>
            </tr>
            <tr>
              <td>Download</td>
              <td>http://download.kafka-eagle.org/</td>
            </tr>
          </tbody>
        </table>
        <div class="admonition note">
          <p class="first admonition-title">Note on install</p>
          <p class="last">We recommend using the official compiled binary installation package.</p>
        </div>
        <h2>2. Install JDK</h2>
        <p>If there is a JDK environment on the Linux server, this step can be ignored, and the installation of the next
          steps. If there is no JDK, first to the Oracle official website to <a
            href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank"
            style="text-decoration:none;">download JDK</a>.</p>
        <h3>JAVA_HOME Configure</h3>
        <p>Extract the binary installation package to the specified directory:</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">cd /usr/java
tar -zxvf jdk-xxxx.tar.gz
mv jdk-xxxx jdk1.8
vi /etc/profile
export JAVA_HOME=/usr/java/jdk1.8
export PATH=$PATH:$JAVA_HOME/bin</code></pre></div>
        <p>Then, we use the <code>. /etc/profile</code> to enable the configuration to take effect immediately.</p>
        <div class="admonition note">
          <p class="first admonition-title">Note</p>
          <p class="last">If the authority is insufficient, please use the sudo command.</p>
        </div>
        <p>Finally, we input <code>java -version</code>, according to the following information:</p>
        <div class="admonition note">
            <p class="first admonition-title">Note</p>
            <p class="last">java version "1.8.0_60"<br />
          Java(TM) SE Runtime Environment (build 1.8.0_60-b27)<br />
          Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)</p>
        </div>
        <h2>3. Extract Kafka Eagle</h2>
        <p>Here we extract to <code>/data/soft/new</code> directory and extract:</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">tar -zxvf kafka-eagle-xxx-bin.tar.gz</code></div>
        If you have installed the version before, delete the modified version, and rename the current version, as shown
        below:
        <div class="highlight"><pre><code class="language-text" data-lang="text">rm -rf kafka-eagle
mv kafka-eagle-xxx kafka-eagle</code></pre></div>        
        <p>Then, configure Kafka Eagle profile</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">vi /etc/profile
export KE_HOME=/data/soft/new/kafka-eagle
export PATH=$PATH:$KE_HOME/bin</code></pre></div>        
        <p>Finally, we use the <code>. /etc/profile</code> to enable the configuration to take effect immediately.</p>
        <h2>4. Configure Kafka Eagle system file</h2>
        <p>Configure Kafka Eagle according to the actual situation of its own Kafka cluster, For example, zookeeper
          address, version type of Kafka cluster (zk for low version, kafka for high version), Kafka cluster with
          security authentication enabled etc.</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">cd ${KE_HOME}/conf
vi system-config.properties

# Multi zookeeper&kafka cluster list -- The client connection address of the Zookeeper cluster is set here
kafka.eagle.zk.cluster.alias=cluster1,cluster2
cluster1.zk.list=tdn1:2181,tdn2:2181,tdn3:2181
cluster2.zk.list=xdn1:2181,xdn2:2181,xdn3:2181

# Add zookeeper acl
cluster1.zk.acl.enable=false
cluster1.zk.acl.schema=digest
cluster1.zk.acl.username=test
cluster1.zk.acl.password=test123

# Kafka broker nodes online list
cluster1.kafka.eagle.broker.size=10
cluster2.kafka.eagle.broker.size=20

# Zkcli limit -- Zookeeper cluster allows the number of clients to connect to
kafka.zk.limit.size=25

# Kafka Eagle webui port -- WebConsole port access address
kafka.eagle.webui.port=8048

# Kafka offset storage -- Offset stored in a Kafka cluster, if stored in the zookeeper, you can not use this option
cluster1.kafka.eagle.offset.storage=kafka
cluster2.kafka.eagle.offset.storage=kafka

# Whether the Kafka performance monitoring diagram is enabled
kafka.eagle.metrics.charts=false

# Kafka Eagle keeps data for 30 days by default
kafka.eagle.metrics.retain=30

# If offset is out of range occurs, enable this property -- Only suitable for kafka sql
kafka.eagle.sql.fix.error=false
kafka.eagle.sql.topic.records.max=5000

# Delete kafka topic token -- Set to delete the topic token, so that administrators can have the right to delete
kafka.eagle.topic.token=keadmin

# Kafka sasl authenticate
cluster1.kafka.eagle.sasl.enable=false
cluster1.kafka.eagle.sasl.protocol=SASL_PLAINTEXT
cluster1.kafka.eagle.sasl.mechanism=SCRAM-SHA-256
cluster1.kafka.eagle.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="admin" password="admin-secret";
# If not set, the value can be empty
cluster1.kafka.eagle.sasl.client.id=
# Add kafka cluster cgroups
cluster1.kafka.eagle.sasl.cgroup.enable=false
cluster1.kafka.eagle.sasl.cgroup.topics=kafka_ads01,kafka_ads02

cluster2.kafka.eagle.sasl.enable=true
cluster2.kafka.eagle.sasl.protocol=SASL_PLAINTEXT
cluster2.kafka.eagle.sasl.mechanism=PLAIN
cluster2.kafka.eagle.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="admin" password="admin-secret";
cluster2.kafka.eagle.sasl.client.id=
cluster2.kafka.eagle.sasl.cgroup.enable=false
cluster2.kafka.eagle.sasl.cgroup.topics=kafka_ads03,kafka_ads04

# Default use sqlite to store data
kafka.eagle.driver=org.sqlite.JDBC
# It is important to note that the '/hadoop/kafka-eagle/db' path must be exist.
kafka.eagle.url=jdbc:sqlite:/hadoop/kafka-eagle/db/ke.db
kafka.eagle.username=root
kafka.eagle.password=smartloli

# (Optional) set mysql address
#kafka.eagle.driver=com.mysql.jdbc.Driver
#kafka.eagle.url=jdbc:mysql://127.0.0.1:3306/ke?useUnicode=true&characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull
#kafka.eagle.username=root
#kafka.eagle.password=smartloli</code></pre></div>
        <h2>5. Start the Kafka Eagle server</h2>
        <p>In the <code>$KE_HOME/bin</code> directory, there is a <code>ke.sh</code> script file. Execute the start
          command as follows:</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">cd ${KE_HOME}/bin
chmod +x ke.sh 
./ke.sh start</code></pre></div>
        <p>After that, when the Kafka Eagle server is restarted or stopped, execute the following command:</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">ke.sh restart
ke.sh stop</code></pre></div>
        <p>As shown in the following figure:</p>
        <img alt="Startup" style="width:800px;" src="../../../images/docs/startup@2x.png">
      </div>
    </section>
    <footer class="wrap">
      <div class="center">Copyright © 2021 all right reserved, powered by <a href="" target="_blank">smartloli</a>.
      </div>
    </footer>
  </div>
</body>

</html>