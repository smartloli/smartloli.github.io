<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">
  <meta name="keywords" content="admin,dashboard,template,angular,bootstrap,blur,panel,html,css,javascript">
  <title>Docs</title>
  <link rel="stylesheet" href="../../../css/main.css">
  <link rel="stylesheet" href="../../../css/font-awesome.css">
  <link rel="shortcut icon" href="../../../images/favicon.ico">
  <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?8f818225b47832c7c649070bf46855a5";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>

<body>
  <div class="container">
    <div class="nav-main">
      <div class="wrap"><a href="" class="nav-home"><img
            style="border: 2px solid #fff;border-radius: 50%;margin-top: 4px;margin-left: 10px;float: left;"
            src="../../../images/ke_login.png" width="40" height="40" class="nav-logo">&nbsp;<span
            class="blur-label">EFAK</span></a>
        <ul class="nav-site nav-site-internal">
          <li><a href="../../../index.html">Home</a></li>
          <!-- <li><a href="https://docs.kafka-eagle.org/" target="_blank">Docs</a></li> -->
          <li><a href="../documentation.html" class="active">Docs</a></li>
          <li><a href="https://www.cnblogs.com/smartloli" target="_blank">Blog</a></li>
          <li><a href="../../article/wechat.html">Articles</a></li>
          <li><a href="../../about/me.html">About</a></li>
        </ul><span class="nav-docs-right">Need some help? Let us know! <a href="mailto:smartloli.org@gmail.com">smartloli.org@gmail.com</a></span>
      </div>
    </div>
    <section class="content wrap documentationContent">
      <div class="nav-docs">
        <div class="nav-docs section">
          <h5>Introduce</h5>
          <ul>
            <li><a href="../introduce/what-is-kafka-eagle.html">What is EFAK</a></li>
            <li><a href="../introduce/getting-started.html">Getting Started</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Installation</h5>
          <ul>
            <li><a href="../installation/requirements.html">Requirements</a></li>
            <li><a href="../installation/linux-macos.html">Install on Linux/macOS</a></li>
            <li><a href="../installation/windows.html">Install on Windows</a></li>
            <li><a href="../installation/configuration.html">Configuration</a></li>
            <li><a href="../installation/security.html">Security</a></li>
            <li><a href="../installation/upgrade.html">Upgrade EFAK</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Quick Start</h5>
          <ul>
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="topics.html">Topics</a></li>
            <li><a href="consumers.html">Consumers</a></li>
            <li><a href="cluster.html">Cluster</a></li>
            <li><a href="alarm.html">Alarm</a></li>
            <li><a href="shell.html">Shell</a></li>
            <li><a href="zkcli.html">ZkCli</a></li>
            <li><a href="multi.html">Multi-Cluster</a></li>
            <li><a href="ksql.html">KSQL</a></li>
            <li><a href="system.html">System</a></li>
            <li><a href="metrics.html" class="active">Metrics</a></li>
            <li><a href="bscreen.html">BScreen</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>Architecture</h5>
          <ul>
            <li><a href="../architecture/intro.html">Introduction</a></li>
            <li><a href="../architecture/collect.html">Data Collection</a></li>
            <li><a href="../architecture/core.html">Core Modules</a></li>
            <li><a href="../architecture/advanced.html">Advanced</a></li>
            <li><a href="../architecture/pdf.html">PDF</a></li>
          </ul>
        </div>
        <div class="nav-docs section">
          <h5>ChangeLog</h5>
          <ul>
            <li><a href="../changelog/changelog.html">ChangeLog</a></li>
          </ul>
        </div>
      </div>
      <div class="inner-content">
        <h1>Metrics</h1>
        <div class="subHeader"><i class="fa fa-home"></i> > <a href="" style="text-decoration:none;">Quick Start</a> >
          Metrics</div>
        <h2>Overview</h2>
        <p>Through JMX to obtain data, monitor the Kafka client, the production side, the number of messages, the number
          of requests, processing time and other data to visualize performance.</p>
        <img alt="mbean" style="width:800px;" src="../../../images/docs/mbean@2x.png">
        <p>If your data is empty, check that the port of JMX is started . If you do not start, you can edit the script
          before you start</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">vi kafka-server-start.sh
...
if [ "x$KAFKA_HEAP_OPTS" = "x" ]; then
    export KAFKA_HEAP_OPTS="-server -Xms2G -Xmx2G -XX:PermSize=128m -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ParallelGCThreads=8 -XX:ConcGCThreads=5 -XX:InitiatingHeapOccupancyPercent=70"
    export JMX_PORT="9999"
fi</code></pre></div>
        <h2>Zookeeper</h2>
        <p>When your zookeeper version is after 3.5, you need to open zkcli permission to repair the script content</p>
        <div class="highlight"><pre><code class="language-text" data-lang="text">vi zkServer.sh
...
// after 77 lines
ZOOMAIN="-Dzookeeper.4lw.commands.whitelist=* ${ZOOMAIN}"</code></pre></div>
        <h2>Trend</h2>
        <p>Observe Kafka index data according to different dimensions.</p>
        <img alt="trend" style="width:800px;" src="../../../images/docs/trend@2x.png">
        <h2>Brokers Metrics</h2>
        <p>EFAK monitoring summarizes the node data of the whole cluster. Through the monitoring chart, you can observe the running state of the cluster.</p>
        <table>
          <thead>
            <tr>
              <th>Quota</th>
              <th>Message</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>MessagesInPerSec</td>
              <td>Broker aggregate incoming message rate.</td>
            </tr>
            <tr>
              <td>BytesInPerSec</td>
              <td>Broker aggregate incoming byte rate.</td>
            </tr>
            <tr>
              <td>BytesOutPerSec</td>
              <td>Broker aggregate outgoing byte rate.</td>
            </tr>
            <tr>
              <td>BytesRejectedPerSec</td>
              <td>Broker aggregate rejected byte rate.</td>
            </tr>
            <tr>
              <td>FailedFetchRequestsPerSec</td>
              <td>Broker fetch request rate for requests that failed.</td>
            </tr>
            <tr>
              <td>FailedProduceRequestsPerSec</td>
              <td>Produce request rate for requests that failed.</td>
            </tr>
            <tr>
              <td>ProduceMessageConversionsPerSec</td>
              <td>The number of produce message conversions per second for the broker.</td>
            </tr>
            <tr>
              <td>ReplicationBytesInPerSec</td>
              <td>Byte in rate from other brokers.</td>
            </tr>
            <tr>
              <td>ReplicationBytesOutPerSec</td>
              <td>Byte out rate to other brokers.</td>
            </tr>
            <tr>
              <td>TotalFetchRequestsPerSec</td>
              <td>Fetch request rate.</td>
            </tr>
            <tr>
              <td>TotalProduceRequestsPerSec</td>
              <td>Produce request rate.</td>
            </tr>
            <tr>
              <td>FreePhysicalMemorySize</td>
              <td>Broker free memory size.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
    <footer class="wrap">
      <div class="center">Copyright Â© 2022 all right reserved, powered by <a href="" target="_blank">smartloli</a>.
      </div>
    </footer>
  </div>
</body>

</html>